!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports):"function"==typeof define&&define.amd?define(["exports"],t):t(e.events=e.events||{})}(this,function(e){"use strict";function t(e){Array.isArray(e)?e.forEach(function(e){r.push(e)}):r.push({event:e.event,element:e.element,targetEl:e.targetEl,callback:e.callback})}function n(e,t){function n(n,o,a,l,i){var c;n||(n="body"),"string"==typeof n?c=document.querySelector(n):n.nodeName&&(c=n);var u=function(n){var o=n.target,r=Array.prototype.slice.apply(c.querySelectorAll(a));do for(var i=r.length,u=0;u<i;u++)if(o===r[u]){l.call(r[u],n,e,t);break}while(o=o.parentNode)};r[i].delegatedCallback=l,r[i].callback=u,c.addEventListener(o,u)}r.forEach(function(e,t){var o;if(o="string"==typeof e.element?document.querySelector(e.element):document.querySelector("body"),e.targetEl)n(e.element,e.event,e.targetEl,e.callback,t);else{o.addEventListener(e.event,e.callback)}})}function o(e,t,n){var o;if("string"==typeof e)o=document.querySelector(e);else{if(!e||!e.nodeName)return;o=e}if(t)if(t&&!n){for(var a=-1,l=r.length,i=0;i<l;i++)if(r[i]&&r[i].element===e&&r[i].event===t)try{o.removeEventListener(r[i].event,r[i].callback),r.splice(parseInt(i,10),1)}catch(e){}}else{if(!(e&&t&&n))return;for(var a=-1,l=r.length,i=0;i<l;i++)if(r[i].element===e&&r[i].event===t&&r[i].delegatedCallback&&r[i].delegatedCallback===n)a=i;else if(r[i].element===e&&r[i].event===t&&r[i].callback===n){a=i;break}if(a===-1)return;o.removeEventListener(r[a].event,r[a].callback),r.splice(a,1)}else{var l=r.length;if(l<1)return;for(var i=l;i>0;i--)r[i]&&r[i].element===e&&(o.removeEventListener(r[i].event,r[i].callback),r.splice(i,1))}}function a(e,t,n){if(!t)return void console.error("No event was provided. You do need to provide one.");if("string"==typeof e&&(e=document.querySelector(e)),document.createEvent){var o=document.createEvent("Events");o.initEvent(t,!0,!1),o.data=n,e.dispatchEvent(o)}}var r=[];window.eventCache=r,window.navigator.pointerEnabled?(e.eventStart="pointerdown",e.eventEnd="pointerup",e.eventMove="pointermove",e.eventCancel="pointercancel"):window.navigator.msPointerEnabled?(e.eventStart="MSPointerDown",e.eventEnd="MSPointerUp",e.eventMove="MSPointerMove",e.eventCancel="MSPointerCancel"):"ontouchstart"in window?(e.eventStart="touchstart",e.eventEnd="touchend",e.eventMove="touchmove",e.eventCancel="touchcancel"):(e.eventStart="mousedown",e.eventEnd="click",e.eventMove="mousemove",e.eventCancel="mouseout"),function(){function t(e){return"tagName"in e?e:e.parentNode}function n(e,t,n,o){return Math.abs(e-t)>=Math.abs(n-o)?e-t>0?"left":"right":n-o>0?"up":"down"}function o(){if(d=null,v.last)try{v&&v.el&&(a(v.el,"longtap"),v={})}catch(e){}}function r(){d&&clearTimeout(d),d=null}function l(){i&&clearTimeout(i),u&&clearTimeout(u),c&&clearTimeout(c),d&&clearTimeout(d),i=u=c=d=null,v={}}var i,c,u,v={},s=150;/android/gim.test(navigator.userAgent)&&(s=200);var d;!function(){var f,p,m=document.body,g=!1;m.addEventListener(e.eventStart,function(n){if(f=Date.now(),p=f-(v.last||f),n.originalEvent&&(n=n.originalEvent),"mousedown"===e.eventStart)v.el=t(n.target),"ripple"===n.target.nodeName&&(v.el=el.target.parentNode),i&&clearTimeout(i),v.x1=n.pageX,v.y1=n.pageY,g=!1;else if(1===n.touches.length){if(n.target.disabled)return;v.el=t(n.touches[0].target),i&&clearTimeout(i),v.x1=n.touches[0].pageX,v.y1=n.touches[0].pageY,g=2===n.targetTouches.length}p>0&&p<=450&&(v.isDoubleTap=!0),v.last=f,d=setTimeout(o,750)}),m.addEventListener(e.eventMove,function(t){t.originalEvent&&(t=t.originalEvent),r(),"mousemove"===e.eventMove?(v.x2=t.pageX,v.y2=t.pageY):1===t.touches.length&&(v.x2=t.touches[0].pageX,v.y2=t.touches[0].pageY,v.move=!0)}),m.addEventListener(e.eventEnd,function(e){r(),v.el&&(v.x2&&Math.abs(v.x1-v.x2)>20||v.y2&&Math.abs(v.y1-v.y2)>20?c=setTimeout(function(){v&&v.el&&(a(v.el,"swipe"),a(v.el,"swipe"+n(v.x1,v.x2,v.y1,v.y2)),v={})},0):"last"in v&&(u=setTimeout(function(){v&&v.isDoubleTap?v&&v.el&&(a(v.el,"doubletap"),e.preventDefault(),v={}):i=setTimeout(function(){i=null,v&&v.el&&!v.move?(a(v.el,"tap"),v={}):l()},s)},0)))}),m.addEventListener("touchcancel",l)}()}(),e.defineEvents=t,e.bindEvents=n,e.unbindEvent=o,e.trigger=a});
//# sourceMappingURL=events.js.map
